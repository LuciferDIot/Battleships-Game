parser_version('116f27e7eb51f509218253a845ec133cc2f8c434').
classical_b('Battleships',['F:\\Campus\\Formal Methods\\atelier B\\workspace\\Battleships\\Battleships.mch','F:\\Campus\\Formal Methods\\atelier B\\workspace\\Battleships\\GameStateMachine.mch']).
machine(abstract_machine(p5(1,5,1,214,4),machine(p3(5,1,8)),machine_header(p3(6,5,16),'Battleships',[]),[includes(p5(1,7,1,8,21),[machine_reference(p3(8,5,21),'GameStateMachine',[])]),sets(p5(1,9,1,10,126),[enumerated_set(p3(10,5,126),'REPORT',[identifier(p3(10,15,27),'Player_1_Hit'),identifier(p3(10,29,41),'Player_2_Hit'),identifier(p3(10,43,56),'Player_1_Miss'),identifier(p3(10,58,71),'Player_2_Miss'),identifier(p3(10,73,87),'Error_Not_Turn'),identifier(p3(10,89,106),'Player_1_Deployed'),identifier(p3(10,108,125),'Player_2_Deployed')])]),constants(p5(1,12,1,13,71),[identifier(p3(13,5,9),'Grid'),identifier(p3(13,11,17),'Grid_X'),identifier(p3(13,19,25),'Grid_Y'),identifier(p3(13,27,34),'Max_Row'),identifier(p3(13,36,43),'Max_Col'),identifier(p3(13,45,61),'Battleship_Count'),identifier(p3(13,63,71),'Anim_Col')]),properties(p5(1,15,1,20,55),conjunct(p5(1,16,5,20,55),[equal(p3(16,5,17),identifier(p3(16,5,12),'Max_Row'),integer(p3(16,15,17),10)),equal(p3(16,20,32),identifier(p3(16,20,27),'Max_Col'),integer(p3(16,30,32),10)),equal(p3(16,35,59),identifier(p3(16,35,43),'Anim_Col'),add(p3(16,46,59),mult_or_cart(p3(16,46,55),integer(p3(16,46,47),2),identifier(p3(16,48,55),'Max_Col')),integer(p3(16,58,59),1))),subset(p3(17,5,23),identifier(p3(17,5,11),'Grid_X'),natural1_set(p3(17,15,23))),subset(p3(17,26,44),identifier(p3(17,26,32),'Grid_Y'),natural1_set(p3(17,36,44))),equal(p3(18,5,24),identifier(p3(18,5,11),'Grid_X'),interval(p3(18,14,24),integer(p3(18,14,15),1),identifier(p3(18,17,24),'Max_Row'))),equal(p3(18,27,46),identifier(p3(18,27,33),'Grid_Y'),interval(p3(18,36,46),integer(p3(18,36,37),1),identifier(p3(18,39,46),'Max_Col'))),equal(p3(19,5,48),identifier(p3(19,5,9),'Grid'),comprehension_set(p3(19,12,48),[identifier(p3(19,13,15),xx),identifier(p3(19,17,19),yy)],conjunct(p3(19,22,47),[member(p3(19,22,33),identifier(p3(19,22,24),xx),identifier(p3(19,27,33),'Grid_X')),member(p3(19,36,47),identifier(p3(19,36,38),yy),identifier(p3(19,41,47),'Grid_Y'))]))),member(p3(20,5,32),identifier(p3(20,5,21),'Battleship_Count'),natural1_set(p3(20,24,32))),equal(p3(20,35,55),identifier(p3(20,35,51),'Battleship_Count'),integer(p3(20,54,55),3))])),definitions(p5(1,22,1,89,38),[predicate_definition(p3(23,5,42),isGameOver,[identifier(p3(23,16,21),fleet)],equal(p3(23,27,42),card(p3(23,27,38),identifier(p3(23,32,37),fleet)),integer(p3(23,41,42),1))),expression_definition(p5(1,27,5,83,6),'ANIMATION_FUNCTION',[],comprehension_set(p5(1,28,5,83,6),[identifier(p3(28,6,9),row),identifier(p3(28,11,17),column),identifier(p3(28,19,20),i)],conjunct(p5(1,29,9,78,79),[member(p3(29,9,25),identifier(p3(29,9,12),row),interval(p3(29,15,25),integer(p3(29,15,16),1),identifier(p3(29,18,25),'Max_Row'))),member(p3(29,28,48),identifier(p3(29,28,34),column),interval(p3(29,37,48),integer(p3(29,37,38),1),identifier(p3(29,40,48),'Anim_Col'))),implication(p5(1,30,10,51,79),equal(p3(30,10,33),identifier(p3(30,10,22),current_turn),identifier(p3(30,25,33),'Player_1')),conjunct(p5(1,31,18,51,79),[implication(p5(1,31,18,37,74),less(p3(31,18,38),identifier(p3(31,18,24),column),add(p3(31,27,38),identifier(p3(31,27,34),'Max_Col'),integer(p3(31,37,38),1))),conjunct(p5(1,33,26,37,74),[implication(p3(33,26,54),member(p3(33,26,47),couple(p3(33,26,39),[identifier(p3(33,27,30),row),identifier(p3(33,32,38),column)]),identifier(p3(33,40,47),fleet_1)),equal(p3(33,51,54),identifier(p3(33,51,52),i),integer(p3(33,53,54),1))),implication(p5(1,34,26,37,74),not_member(p3(34,26,48),couple(p3(34,26,39),[identifier(p3(34,27,30),row),identifier(p3(34,32,38),column)]),identifier(p3(34,41,48),fleet_1)),conjunct(p5(1,36,34,37,74),[implication(p3(36,34,73),member(p3(36,34,66),couple(p3(36,34,47),[identifier(p3(36,35,38),row),identifier(p3(36,40,46),column)]),identifier(p3(36,48,66),non_change_fleet_1)),equal(p3(36,70,73),identifier(p3(36,70,71),i),integer(p3(36,72,73),3))),implication(p3(37,34,74),not_member(p3(37,34,67),couple(p3(37,34,47),[identifier(p3(37,35,38),row),identifier(p3(37,40,46),column)]),identifier(p3(37,49,67),non_change_fleet_1)),equal(p3(37,71,74),identifier(p3(37,71,72),i),integer(p3(37,73,74),0)))]))])),implication(p3(42,18,43),equal(p3(42,18,36),identifier(p3(42,18,24),column),add(p3(42,27,36),identifier(p3(42,27,34),'Max_Col'),integer(p3(42,35,36),1))),equal(p3(42,40,43),identifier(p3(42,40,41),i),integer(p3(42,42,43),4))),implication(p5(1,43,18,51,79),greater(p3(43,18,36),identifier(p3(43,18,24),column),add(p3(43,27,36),identifier(p3(43,27,34),'Max_Col'),integer(p3(43,35,36),1))),conjunct(p5(1,45,26,51,79),[implication(p5(1,45,26,48,88),member(p3(45,26,71),couple(p3(45,26,53),[identifier(p3(45,27,30),row),minus_or_set_subtract(p3(45,32,51),identifier(p3(45,32,38),column),add(p3(45,40,51),integer(p3(45,40,41),1),identifier(p3(45,44,51),'Max_Col')))]),function(p3(45,54,71),identifier(p3(45,54,61),attacks),[identifier(p3(45,62,70),'Player_1')])),conjunct(p5(1,47,34,48,88),[implication(p3(47,34,87),member(p3(47,34,80),couple(p3(47,34,61),[identifier(p3(47,35,38),row),minus_or_set_subtract(p3(47,40,59),identifier(p3(47,40,46),column),add(p3(47,48,59),integer(p3(47,48,49),1),identifier(p3(47,52,59),'Max_Col')))]),identifier(p3(47,62,80),non_change_fleet_2)),equal(p3(47,84,87),identifier(p3(47,84,85),i),integer(p3(47,86,87),3))),implication(p3(48,34,88),not_member(p3(48,34,81),couple(p3(48,34,61),[identifier(p3(48,35,38),row),minus_or_set_subtract(p3(48,40,59),identifier(p3(48,40,46),column),add(p3(48,48,59),integer(p3(48,48,49),1),identifier(p3(48,52,59),'Max_Col')))]),identifier(p3(48,63,81),non_change_fleet_2)),equal(p3(48,85,88),identifier(p3(48,85,86),i),integer(p3(48,87,88),2)))])),implication(p3(51,26,79),not_member(p3(51,26,72),couple(p3(51,26,53),[identifier(p3(51,27,30),row),minus_or_set_subtract(p3(51,32,51),identifier(p3(51,32,38),column),add(p3(51,40,51),integer(p3(51,40,41),1),identifier(p3(51,44,51),'Max_Col')))]),function(p3(51,55,72),identifier(p3(51,55,62),attacks),[identifier(p3(51,63,71),'Player_1')])),equal(p3(51,76,79),identifier(p3(51,76,77),i),integer(p3(51,78,79),0)))]))])),implication(p5(1,57,10,78,79),equal(p3(57,10,33),identifier(p3(57,10,22),current_turn),identifier(p3(57,25,33),'Player_2')),conjunct(p5(1,58,18,78,79),[implication(p5(1,58,18,64,74),less(p3(58,18,38),identifier(p3(58,18,24),column),add(p3(58,27,38),identifier(p3(58,27,34),'Max_Col'),integer(p3(58,37,38),1))),conjunct(p5(1,60,26,64,74),[implication(p3(60,26,54),member(p3(60,26,47),couple(p3(60,26,39),[identifier(p3(60,27,30),row),identifier(p3(60,32,38),column)]),identifier(p3(60,40,47),fleet_2)),equal(p3(60,51,54),identifier(p3(60,51,52),i),integer(p3(60,53,54),1))),implication(p5(1,61,26,64,74),not_member(p3(61,26,48),couple(p3(61,26,39),[identifier(p3(61,27,30),row),identifier(p3(61,32,38),column)]),identifier(p3(61,41,48),fleet_2)),conjunct(p5(1,63,34,64,74),[implication(p3(63,34,73),member(p3(63,34,66),couple(p3(63,34,47),[identifier(p3(63,35,38),row),identifier(p3(63,40,46),column)]),identifier(p3(63,48,66),non_change_fleet_2)),equal(p3(63,70,73),identifier(p3(63,70,71),i),integer(p3(63,72,73),3))),implication(p3(64,34,74),not_member(p3(64,34,67),couple(p3(64,34,47),[identifier(p3(64,35,38),row),identifier(p3(64,40,46),column)]),identifier(p3(64,49,67),non_change_fleet_2)),equal(p3(64,71,74),identifier(p3(64,71,72),i),integer(p3(64,73,74),0)))]))])),implication(p3(69,18,43),equal(p3(69,18,36),identifier(p3(69,18,24),column),add(p3(69,27,36),identifier(p3(69,27,34),'Max_Col'),integer(p3(69,35,36),1))),equal(p3(69,40,43),identifier(p3(69,40,41),i),integer(p3(69,42,43),4))),implication(p5(1,70,18,78,79),greater(p3(70,18,36),identifier(p3(70,18,24),column),add(p3(70,27,36),identifier(p3(70,27,34),'Max_Col'),integer(p3(70,35,36),1))),conjunct(p5(1,72,26,78,79),[implication(p5(1,72,26,75,88),member(p3(72,26,71),couple(p3(72,26,53),[identifier(p3(72,27,30),row),minus_or_set_subtract(p3(72,32,51),identifier(p3(72,32,38),column),add(p3(72,40,51),integer(p3(72,40,41),1),identifier(p3(72,44,51),'Max_Col')))]),function(p3(72,54,71),identifier(p3(72,54,61),attacks),[identifier(p3(72,62,70),'Player_2')])),conjunct(p5(1,74,34,75,88),[implication(p3(74,34,87),member(p3(74,34,80),couple(p3(74,34,61),[identifier(p3(74,35,38),row),minus_or_set_subtract(p3(74,40,59),identifier(p3(74,40,46),column),add(p3(74,48,59),integer(p3(74,48,49),1),identifier(p3(74,52,59),'Max_Col')))]),identifier(p3(74,62,80),non_change_fleet_1)),equal(p3(74,84,87),identifier(p3(74,84,85),i),integer(p3(74,86,87),3))),implication(p3(75,34,88),not_member(p3(75,34,81),couple(p3(75,34,61),[identifier(p3(75,35,38),row),minus_or_set_subtract(p3(75,40,59),identifier(p3(75,40,46),column),add(p3(75,48,59),integer(p3(75,48,49),1),identifier(p3(75,52,59),'Max_Col')))]),identifier(p3(75,63,81),non_change_fleet_1)),equal(p3(75,85,88),identifier(p3(75,85,86),i),integer(p3(75,87,88),2)))])),implication(p3(78,26,79),not_member(p3(78,26,72),couple(p3(78,26,53),[identifier(p3(78,27,30),row),minus_or_set_subtract(p3(78,32,51),identifier(p3(78,32,38),column),add(p3(78,40,51),integer(p3(78,40,41),1),identifier(p3(78,44,51),'Max_Col')))]),function(p3(78,55,72),identifier(p3(78,55,62),attacks),[identifier(p3(78,63,71),'Player_2')])),equal(p3(78,76,79),identifier(p3(78,76,77),i),integer(p3(78,78,79),0)))]))]))]))),expression_definition(p3(87,5,37),'ANIMATION_IMG1',[],string(p3(87,23,37),'images/2.gif')),expression_definition(p3(86,5,37),'ANIMATION_IMG0',[],string(p3(86,23,37),'images/1.gif')),expression_definition(p3(89,5,37),'ANIMATION_IMG3',[],string(p3(89,23,37),'images/4.gif')),expression_definition(p3(88,5,37),'ANIMATION_IMG2',[],string(p3(88,23,37),'images/3.gif')),predicate_definition(p3(25,5,50),isValidPosition,[identifier(p3(25,21,29),position)],member(p3(25,35,50),identifier(p3(25,35,43),position),identifier(p3(25,46,50),'Grid'))),predicate_definition(p3(26,5,106),isFleetDeployed,[identifier(p3(26,21,27),player)],conjunct(p3(26,33,106),[implication(p3(26,33,67),equal(p3(26,33,50),identifier(p3(26,33,39),player),identifier(p3(26,42,50),'Player_1')),not_equal(p3(26,54,67),identifier(p3(26,54,61),fleet_1),empty_set(p3(26,65,67)))),implication(p3(26,72,106),equal(p3(26,72,89),identifier(p3(26,72,78),player),identifier(p3(26,81,89),'Player_2')),not_equal(p3(26,93,106),identifier(p3(26,93,100),fleet_2),empty_set(p3(26,104,106))))])),predicate_definition(p3(24,5,51),isPlayerTurn,[identifier(p3(24,18,24),player)],equal(p3(24,30,51),identifier(p3(24,30,42),current_turn),identifier(p3(24,45,51),player)))]),variables(p5(1,91,1,92,70),[identifier(p3(92,5,12),fleet_1),identifier(p3(92,14,21),fleet_2),identifier(p3(92,23,30),attacks),identifier(p3(92,32,50),non_change_fleet_1),identifier(p3(92,52,70),non_change_fleet_2)]),invariant(p5(1,94,1,99,35),conjunct(p5(1,95,5,99,35),[member(p3(95,5,24),identifier(p3(95,5,12),fleet_1),pow_subset(p3(95,15,24),identifier(p3(95,19,23),'Grid'))),less_equal(p3(95,27,60),card(p3(95,27,40),identifier(p3(95,32,39),fleet_1)),identifier(p3(95,44,60),'Battleship_Count')),member(p3(96,5,24),identifier(p3(96,5,12),fleet_2),pow_subset(p3(96,15,24),identifier(p3(96,19,23),'Grid'))),less_equal(p3(96,27,60),card(p3(96,27,40),identifier(p3(96,32,39),fleet_2)),identifier(p3(96,44,60),'Battleship_Count')),member(p3(97,5,35),identifier(p3(97,5,23),non_change_fleet_1),pow_subset(p3(97,26,35),identifier(p3(97,30,34),'Grid'))),less_equal(p3(97,38,82),card(p3(97,38,62),identifier(p3(97,43,61),non_change_fleet_1)),identifier(p3(97,66,82),'Battleship_Count')),member(p3(98,5,35),identifier(p3(98,5,23),non_change_fleet_2),pow_subset(p3(98,26,35),identifier(p3(98,30,34),'Grid'))),less_equal(p3(98,38,82),card(p3(98,38,62),identifier(p3(98,43,61),non_change_fleet_2)),identifier(p3(98,66,82),'Battleship_Count')),member(p3(99,5,35),identifier(p3(99,5,12),attacks),total_function(p3(99,15,35),identifier(p3(99,15,21),'PLAYER'),pow_subset(p3(99,26,35),identifier(p3(99,30,34),'Grid'))))])),initialisation(p5(1,101,1,103,50),parallel(p5(1,102,5,103,50),[assign(p3(102,5,79),[identifier(p3(102,5,12),fleet_1),identifier(p3(102,14,21),fleet_2),identifier(p3(102,23,41),non_change_fleet_1),identifier(p3(102,43,61),non_change_fleet_2)],[empty_set(p3(102,65,67)),empty_set(p3(102,69,71)),empty_set(p3(102,73,75)),empty_set(p3(102,77,79))]),assign(p3(103,5,50),[identifier(p3(103,5,12),attacks)],[set_extension(p3(103,16,50),[couple(p3(103,17,32),[identifier(p3(103,17,25),'Player_1'),empty_set(p3(103,30,32))]),couple(p3(103,34,49),[identifier(p3(103,34,42),'Player_2'),empty_set(p3(103,47,49))])])])])),operations(p5(1,105,1,212,8),[operation(p5(1,106,5,136,8),identifier(p5(1,106,5,136,8),deployFleet),[identifier(p3(106,5,11),report)],[identifier(p3(106,28,34),player),identifier(p3(106,36,45),positions)],precondition(p5(1,107,5,136,8),conjunct(p5(1,108,9,113,43),[member(p3(108,9,24),identifier(p3(108,9,15),player),identifier(p3(108,18,24),'PLAYER')),member(p3(109,9,30),identifier(p3(109,9,18),positions),pow_subset(p3(109,21,30),identifier(p3(109,25,29),'Grid'))),equal(p3(110,9,43),card(p3(110,9,24),identifier(p3(110,14,23),positions)),identifier(p3(110,27,43),'Battleship_Count')),equal(p3(111,9,46),identifier(p3(111,9,27),current_game_state),identifier(p3(111,30,46),'Deploying_Fleets')),implication(p3(112,10,43),equal(p3(112,10,27),identifier(p3(112,10,16),player),identifier(p3(112,19,27),'Player_1')),equal(p3(112,31,43),identifier(p3(112,31,38),fleet_1),empty_set(p3(112,41,43)))),implication(p3(113,10,43),equal(p3(113,10,27),identifier(p3(113,10,16),player),identifier(p3(113,19,27),'Player_2')),equal(p3(113,31,43),identifier(p3(113,31,38),fleet_2),empty_set(p3(113,41,43))))]),if(p5(1,115,9,135,12),equal(p3(115,12,29),identifier(p3(115,12,18),player),identifier(p3(115,21,29),'Player_1')),if(p5(1,116,13,123,16),equal(p3(116,16,28),identifier(p3(116,16,23),fleet_1),empty_set(p3(116,26,28))),parallel(p5(1,117,17,122,20),[assign(p3(117,17,37),[identifier(p3(117,17,24),fleet_1)],[identifier(p3(117,28,37),positions)]),assign(p3(118,17,48),[identifier(p3(118,17,35),non_change_fleet_1)],[identifier(p3(118,39,48),positions)]),assign(p3(119,17,44),[identifier(p3(119,17,23),report)],[identifier(p3(119,27,44),'Player_1_Deployed')]),if(p5(1,120,17,122,20),not_equal(p3(120,20,33),identifier(p3(120,20,27),fleet_2),empty_set(p3(120,31,33))),operation_call(p3(121,21,29),identifier(p3(121,21,29),setState),[],[identifier(p3(121,30,37),'Ongoing')]),[],skip(none))]),[],skip(none)),[],if(p5(1,124,14,134,16),equal(p3(124,17,34),identifier(p3(124,17,23),player),identifier(p3(124,26,34),'Player_2')),if(p5(1,126,17,133,20),equal(p3(126,20,32),identifier(p3(126,20,27),fleet_2),empty_set(p3(126,30,32))),parallel(p5(1,127,21,132,24),[assign(p3(127,21,41),[identifier(p3(127,21,28),fleet_2)],[identifier(p3(127,32,41),positions)]),assign(p3(128,21,52),[identifier(p3(128,21,39),non_change_fleet_2)],[identifier(p3(128,43,52),positions)]),assign(p3(129,21,48),[identifier(p3(129,21,27),report)],[identifier(p3(129,31,48),'Player_2_Deployed')]),if(p5(1,130,21,132,24),not_equal(p3(130,24,37),identifier(p3(130,24,31),fleet_1),empty_set(p3(130,35,37))),operation_call(p3(131,25,33),identifier(p3(131,25,33),setState),[],[identifier(p3(131,34,41),'Ongoing')]),[],skip(none))]),[],skip(none)),[],skip(none))))),operation(p5(1,139,5,184,8),identifier(p5(1,139,5,184,8),playerShoots),[identifier(p3(139,5,11),report)],[identifier(p3(139,29,35),target)],precondition(p5(1,140,5,184,8),conjunct(p5(1,141,9,144,40),[definition(p3(141,9,31),isValidPosition,[identifier(p3(141,25,31),target)]),equal(p3(142,9,37),identifier(p3(142,9,27),current_game_state),identifier(p3(142,30,37),'Ongoing')),definition(p3(143,9,37),isFleetDeployed,[identifier(p3(143,25,37),current_turn)]),not_member(p3(144,9,40),identifier(p3(144,9,15),target),function(p3(144,19,40),identifier(p3(144,19,26),attacks),[identifier(p3(144,27,39),current_turn)]))]),if(p5(1,146,9,183,12),definition(p3(146,12,33),isPlayerTurn,[identifier(p3(146,25,33),'Player_1')]),if(p5(1,147,13,161,16),member(p3(147,16,32),identifier(p3(147,16,22),target),identifier(p3(147,25,32),fleet_2)),parallel(p5(1,148,17,156,20),[assign(p3(148,17,46),[identifier(p3(148,17,24),fleet_2)],[minus_or_set_subtract(p3(148,28,46),identifier(p3(148,28,35),fleet_2),set_extension(p3(148,38,46),[identifier(p3(148,39,45),target)]))]),assign(p3(149,17,67),[function(p3(149,17,33),identifier(p3(149,17,24),attacks),[identifier(p3(149,25,33),'Player_1')])],[union(p3(149,38,67),function(p3(149,38,55),identifier(p3(149,38,45),attacks),[identifier(p3(149,46,54),'Player_1')]),set_extension(p3(149,59,67),[identifier(p3(149,60,66),target)]))]),if(p5(1,150,17,156,20),definition(p3(150,20,38),isGameOver,[identifier(p3(150,31,38),fleet_2)]),parallel(p5(1,151,21,152,42),[assign(p3(151,21,43),[identifier(p3(151,21,27),report)],[identifier(p3(151,31,43),'Player_1_Hit')]),operation_call(p3(152,21,29),identifier(p3(152,21,29),setState),[],[identifier(p3(152,30,42),'Won_Player_1')])]),[],parallel(p5(1,154,21,155,46),[assign(p3(154,21,43),[identifier(p3(154,21,27),report)],[identifier(p3(154,31,43),'Player_1_Hit')]),operation_call(p3(155,21,37),identifier(p3(155,21,37),setCurrentPlayer),[],[identifier(p3(155,38,46),'Player_2')])]))]),[],parallel(p5(1,158,17,160,42),[assign(p3(158,17,67),[function(p3(158,17,33),identifier(p3(158,17,24),attacks),[identifier(p3(158,25,33),'Player_1')])],[union(p3(158,38,67),function(p3(158,38,55),identifier(p3(158,38,45),attacks),[identifier(p3(158,46,54),'Player_1')]),set_extension(p3(158,59,67),[identifier(p3(158,60,66),target)]))]),assign(p3(159,17,40),[identifier(p3(159,17,23),report)],[identifier(p3(159,27,40),'Player_1_Miss')]),operation_call(p3(160,17,33),identifier(p3(160,17,33),setCurrentPlayer),[],[identifier(p3(160,34,42),'Player_2')])])),[],if(p5(1,163,14,182,16),definition(p3(163,17,38),isPlayerTurn,[identifier(p3(163,30,38),'Player_2')]),if(p5(1,165,17,179,20),member(p3(165,20,36),identifier(p3(165,20,26),target),identifier(p3(165,29,36),fleet_1)),parallel(p5(1,166,21,174,24),[assign(p3(166,21,50),[identifier(p3(166,21,28),fleet_1)],[minus_or_set_subtract(p3(166,32,50),identifier(p3(166,32,39),fleet_1),set_extension(p3(166,42,50),[identifier(p3(166,43,49),target)]))]),assign(p3(167,21,71),[function(p3(167,21,37),identifier(p3(167,21,28),attacks),[identifier(p3(167,29,37),'Player_2')])],[union(p3(167,42,71),function(p3(167,42,59),identifier(p3(167,42,49),attacks),[identifier(p3(167,50,58),'Player_2')]),set_extension(p3(167,63,71),[identifier(p3(167,64,70),target)]))]),if(p5(1,168,21,174,24),definition(p3(168,24,42),isGameOver,[identifier(p3(168,35,42),fleet_1)]),parallel(p5(1,169,25,170,46),[assign(p3(169,25,47),[identifier(p3(169,25,31),report)],[identifier(p3(169,35,47),'Player_2_Hit')]),operation_call(p3(170,25,33),identifier(p3(170,25,33),setState),[],[identifier(p3(170,34,46),'Won_Player_2')])]),[],parallel(p5(1,172,25,173,50),[assign(p3(172,25,47),[identifier(p3(172,25,31),report)],[identifier(p3(172,35,47),'Player_2_Hit')]),operation_call(p3(173,25,41),identifier(p3(173,25,41),setCurrentPlayer),[],[identifier(p3(173,42,50),'Player_1')])]))]),[],parallel(p5(1,176,21,178,46),[assign(p3(176,21,71),[function(p3(176,21,37),identifier(p3(176,21,28),attacks),[identifier(p3(176,29,37),'Player_2')])],[union(p3(176,42,71),function(p3(176,42,59),identifier(p3(176,42,49),attacks),[identifier(p3(176,50,58),'Player_2')]),set_extension(p3(176,63,71),[identifier(p3(176,64,70),target)]))]),assign(p3(177,21,44),[identifier(p3(177,21,27),report)],[identifier(p3(177,31,44),'Player_2_Miss')]),operation_call(p3(178,21,37),identifier(p3(178,21,37),setCurrentPlayer),[],[identifier(p3(178,38,46),'Player_1')])])),[],assign(p3(181,17,41),[identifier(p3(181,17,23),report)],[identifier(p3(181,27,41),'Error_Not_Turn')]))))),operation(p5(1,186,5,195,8),identifier(p5(1,186,5,195,8),shipLocations),[identifier(p3(186,5,16),shipsquares)],[identifier(p3(186,35,41),player)],precondition(p5(1,187,5,195,8),member(p3(188,9,24),identifier(p3(188,9,15),player),identifier(p3(188,18,24),'PLAYER')),if(p5(1,190,9,194,12),definition(p3(190,12,33),isPlayerTurn,[identifier(p3(190,25,33),'Player_1')]),assign(p3(191,13,35),[identifier(p3(191,13,24),shipsquares)],[identifier(p3(191,28,35),fleet_1)]),[],assign(p3(193,13,35),[identifier(p3(193,13,24),shipsquares)],[identifier(p3(193,28,35),fleet_2)])))),operation(p5(1,197,5,200,8),identifier(p5(1,197,5,200,8),shipsLeft),[identifier(p3(197,5,15),shipCounts)],[],block(p5(1,198,5,200,8),assign(p3(199,9,53),[identifier(p3(199,9,19),shipCounts)],[couple(p3(199,23,53),[card(p3(199,24,37),identifier(p3(199,29,36),fleet_1)),card(p3(199,39,52),identifier(p3(199,44,51),fleet_2))])]))),operation(p5(1,202,5,207,8),identifier(p5(1,202,5,207,8),shotsTaken),[identifier(p3(202,5,14),shotCount)],[identifier(p3(202,30,36),player)],precondition(p5(1,203,5,207,8),member(p3(204,9,24),identifier(p3(204,9,15),player),identifier(p3(204,18,24),'PLAYER')),assign(p3(206,9,43),[identifier(p3(206,9,18),shotCount)],[card(p3(206,22,43),function(p3(206,27,42),identifier(p3(206,27,34),attacks),[identifier(p3(206,35,41),player)]))]))),operation(p5(1,209,5,212,8),identifier(p5(1,209,5,212,8),gameStatus),[identifier(p3(209,5,11),report)],[],block(p5(1,210,5,212,8),assign(p3(211,9,37),[identifier(p3(211,9,15),report)],[identifier(p3(211,19,37),current_game_state)])))])])).
machine(abstract_machine(p5(2,7,1,43,4),machine(p4(2,7,1,8)),machine_header(p4(2,7,9,25),'GameStateMachine',[]),[sets(p5(2,8,1,10,73),[enumerated_set(p4(2,9,5,34),'PLAYER',[identifier(p4(2,9,15,23),'Player_1'),identifier(p4(2,9,25,33),'Player_2')]),enumerated_set(p4(2,10,5,73),'GAME_STATE',[identifier(p4(2,10,19,35),'Deploying_Fleets'),identifier(p4(2,10,37,44),'Ongoing'),identifier(p4(2,10,46,58),'Won_Player_1'),identifier(p4(2,10,60,72),'Won_Player_2')])]),variables(p5(2,11,1,12,37),[identifier(p4(2,12,5,23),current_game_state),identifier(p4(2,12,25,37),current_turn)]),invariant(p5(2,13,1,15,26),conjunct(p5(2,14,5,15,26),[member(p4(2,14,5,36),identifier(p4(2,14,5,23),current_game_state),identifier(p4(2,14,26,36),'GAME_STATE')),member(p4(2,15,5,26),identifier(p4(2,15,5,17),current_turn),identifier(p4(2,15,20,26),'PLAYER'))])),initialisation(p5(2,16,1,18,29),parallel(p5(2,17,5,18,29),[assign(p4(2,17,5,43),[identifier(p4(2,17,5,23),current_game_state)],[identifier(p4(2,17,27,43),'Deploying_Fleets')]),assign(p4(2,18,5,29),[identifier(p4(2,18,5,17),current_turn)],[identifier(p4(2,18,21,29),'Player_1')])])),operations(p5(2,19,1,42,8),[operation(p5(2,20,5,25,8),identifier(p5(2,20,5,25,8),setState),[],[identifier(p4(2,20,14,19),state)],precondition(p5(2,21,5,25,8),member(p4(2,22,9,27),identifier(p4(2,22,9,14),state),identifier(p4(2,22,17,27),'GAME_STATE')),assign(p4(2,24,9,36),[identifier(p4(2,24,9,27),current_game_state)],[identifier(p4(2,24,31,36),state)]))),operation(p5(2,27,5,30,8),identifier(p5(2,27,5,30,8),getState),[identifier(p4(2,27,5,11),result)],[],block(p5(2,28,5,30,8),assign(p4(2,29,9,37),[identifier(p4(2,29,9,15),result)],[identifier(p4(2,29,19,37),current_game_state)]))),operation(p5(2,32,5,37,8),identifier(p5(2,32,5,37,8),setCurrentPlayer),[],[identifier(p4(2,32,22,28),player)],precondition(p5(2,33,5,37,8),member(p4(2,34,9,24),identifier(p4(2,34,9,15),player),identifier(p4(2,34,18,24),'PLAYER')),assign(p4(2,36,9,31),[identifier(p4(2,36,9,21),current_turn)],[identifier(p4(2,36,25,31),player)]))),operation(p5(2,39,5,42,8),identifier(p5(2,39,5,42,8),getCurrentPlayer),[identifier(p4(2,39,5,11),result)],[],block(p5(2,40,5,42,8),assign(p4(2,41,9,31),[identifier(p4(2,41,9,15),result)],[identifier(p4(2,41,19,31),current_turn)])))])])).
