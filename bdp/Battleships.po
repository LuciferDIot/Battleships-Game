THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_shotsTaken.3,(_f(72) => _f(76));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_shotsTaken.2,(_f(72) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & WellDefinedness_shotsTaken.1,(_f(72) => _f(75));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinedness_shipsLeft.2,(_f(72) => _f(65));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinedness_shipsLeft.1,(_f(72) => _f(64));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.10,(_f(42) & _f(43) & _f(35) & _f(48) & _f(72) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.9,(_f(42) & _f(43) & _f(35) & _f(48) & _f(72) => _f(74));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.8,(_f(42) & _f(43) & _f(35) & _f(44) & _f(72) => _f(64));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.7,(_f(42) & _f(43) & _f(35) & _f(44) & _f(72) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.6,(_f(42) & _f(43) & _f(35) & _f(44) & _f(72) => _f(74));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.5,(_f(34) & _f(35) & _f(41) & _f(72) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.4,(_f(34) & _f(35) & _f(41) & _f(72) => _f(73));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.3,(_f(34) & _f(35) & _f(36) & _f(72) => _f(65));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.2,(_f(34) & _f(35) & _f(36) & _f(72) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & WellDefinedness_playerShoots.1,(_f(34) & _f(35) & _f(36) & _f(72) => _f(73));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinednessPrecondition_playerShoots.2,(_f(29) & _f(30) & _f(31) & _f(32) & _f(68) => _f(71));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinednessPrecondition_playerShoots.1,(_f(29) & _f(30) & _f(31) & _f(32) & _f(68) => _f(70));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & WellDefinednessPrecondition_deployFleet.1,(_f(12) & _f(13) & _f(68) => _f(69));
_f(1) & _f(2) & _f(3) & _f(4) & WellDefinednessInvariant.4,(_f(56) & _f(57) & _f(58) & _f(59) & _f(60) & _f(61) & _f(62) & _f(63) => _f(67));
_f(1) & _f(2) & _f(3) & _f(4) & WellDefinednessInvariant.3,(_f(56) & _f(57) & _f(58) & _f(59) & _f(60) & _f(63) => _f(66));
_f(1) & _f(2) & _f(3) & _f(4) & WellDefinednessInvariant.2,(_f(56) & _f(57) & _f(58) & _f(63) => _f(65));
_f(1) & _f(2) & _f(3) & _f(4) & WellDefinednessInvariant.1,(_f(56) & _f(63) => _f(64));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.14,(_f(42) & _f(43) & _f(35) & _f(48) & _f(6) & _f(7) => _f(55));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.13,(_f(42) & _f(43) & _f(35) & _f(44) & _f(47) & _f(6) & _f(7) => _f(55));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.12,(_f(42) & _f(43) & _f(35) & _f(44) & _f(47) & _f(6) & _f(7) => _f(54));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.11,(_f(42) & _f(43) & _f(35) & _f(44) & _f(47) & _f(6) & _f(7) => _f(53));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.10,(_f(42) & _f(43) & _f(35) & _f(44) & _f(45) & _f(46) & _f(7) => _f(55));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.9,(_f(42) & _f(43) & _f(35) & _f(44) & _f(45) & _f(46) & _f(7) => _f(54));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.8,(_f(42) & _f(43) & _f(35) & _f(44) & _f(45) & _f(46) & _f(7) => _f(53));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.7,(_f(34) & _f(35) & _f(41) & _f(40) & _f(7) => _f(52));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.6,(_f(34) & _f(35) & _f(36) & _f(39) & _f(40) & _f(7) => _f(52));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.5,(_f(34) & _f(35) & _f(36) & _f(39) & _f(40) & _f(7) => _f(51));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.4,(_f(34) & _f(35) & _f(36) & _f(39) & _f(40) & _f(7) => _f(50));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.3,(_f(34) & _f(35) & _f(36) & _f(37) & _f(38) & _f(7) => _f(52));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.2,(_f(34) & _f(35) & _f(36) & _f(37) & _f(38) & _f(7) => _f(51));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(29) & _f(30) & _f(31) & _f(32) & _f(33) & Operation_playerShoots.1,(_f(34) & _f(35) & _f(36) & _f(37) & _f(38) & _f(7) => _f(50));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(16) & _f(17) & Operation_deployFleet.4,(_f(25) & _f(26) & _f(19) & _f(23) & _f(20) & _f(7) => _f(28));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(16) & _f(17) & Operation_deployFleet.3,(_f(25) & _f(26) & _f(19) & _f(23) & _f(24) & _f(22) & _f(7) => _f(28));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(16) & _f(17) & Operation_deployFleet.2,(_f(18) & _f(19) & _f(20) & _f(23) & _f(7) => _f(28));
_f(1) & _f(2) & _f(3) & _f(4) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & _f(16) & _f(17) & Operation_deployFleet.1,(_f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(7) => _f(28));
_f(1) & _f(2) & _f(3) & _f(4) & Initialisation.3,(_f(5) & _f(6) & _f(7) => _f(10));
_f(1) & _f(2) & _f(3) & _f(4) & Initialisation.2,(_f(5) & _f(6) & _f(7) => _f(9));
_f(1) & _f(2) & _f(3) & _f(4) & Initialisation.1,(_f(5) & _f(6) & _f(7) => _f(8))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
((1..9)*{REPORT}): FIN(NATURAL*{REPORT})& not(((1..9)*{REPORT}) = {}) & ((Max_Row) = (10)) & ((Max_Col) = (10)) & ((Anim_Col) = (((2 * Max_Col) + 1))) & ((Grid_X) = (((1) .. (Max_Row)))) & ((Grid_Y) = (((1) .. (Max_Col)))) & ((Grid) = (SET(xx,yy).(((xx) : (Grid_X)) & ((yy) : (Grid_Y))))) & ((Battleship_Count) : ((NAT-{0}))) & ((Battleship_Count) = (3));
((1..2)*{PLAYER}): FIN(NATURAL*{PLAYER})& not(((1..2)*{PLAYER}) = {}) & ((1..4)*{GAME_STATE}): FIN(NATURAL*{GAME_STATE})& not(((1..4)*{GAME_STATE}) = {});
((current_game_state) : (((1..4)*{GAME_STATE}))) & ((current_turn) : (((1..2)*{PLAYER})));
(((1|->GAME_STATE)) : (((1..4)*{GAME_STATE})));
(((1|->PLAYER)) : (((1..2)*{PLAYER})));
"Invariant is preserved";
(({}) : (POW(Grid)));
(card({}) <= Battleship_Count);
((({(((1|->PLAYER)) |-> ({}))}\/{(((2|->PLAYER)) |-> ({}))})) : (((((1..2)*{PLAYER})) --> (POW(Grid)))));
((fleet_1) : (POW(Grid))) & (card(fleet_1) <= Battleship_Count) & ((fleet_2) : (POW(Grid))) & (card(fleet_2) <= Battleship_Count) & ((non_change_fleet_1) : (POW(Grid))) & (card(non_change_fleet_1) <= Battleship_Count) & ((non_change_fleet_2) : (POW(Grid))) & (card(non_change_fleet_2) <= Battleship_Count) & attacks : ((1..2)*{PLAYER}) +-> POW(Grid) & dom(attacks) = ((1..2)*{PLAYER}) & ((attacks) : (((((1..2)*{PLAYER})) --> (POW(Grid)))));
((player) : (((1..2)*{PLAYER})));
positions : POW( (NATURAL * NATURAL));
((card(positions)) = (Battleship_Count));
((current_game_state) = ((1|->GAME_STATE)));
((((player) = ((1|->PLAYER)))) => (((fleet_1) = ({}))));
((((player) = ((2|->PLAYER)))) => (((fleet_2) = ({}))));
((player) = ((1|->PLAYER)));
((positions) : (POW(Grid)));
((fleet_1) = ({}));
not(((fleet_2) = ({})));
(((2|->GAME_STATE)) : (((1..4)*{GAME_STATE})));
((fleet_2) = ({}));
not(((fleet_1) = ({})));
not(((player) = ((1|->PLAYER))) & ((positions) : (POW(Grid))));
((player) = ((2|->PLAYER)));
not(((player) = ((2|->PLAYER))) & ((positions) : (POW(Grid))));
(card(positions) <= Battleship_Count);
((target) : ((NATURAL * NATURAL)));
((current_game_state) = ((2|->GAME_STATE)));
((((current_turn) = ((1|->PLAYER)))) => (not(((fleet_1) = ({})))));
((((current_turn) = ((2|->PLAYER)))) => (not(((fleet_2) = ({})))));
not(((target) : ((attacks )(current_turn))));
((current_turn) = ((1|->PLAYER)));
((target) : (Grid));
((target) : (fleet_2));
((card(fleet_2)) = (1));
(((3|->GAME_STATE)) : (((1..4)*{GAME_STATE})));
not(((card(fleet_2)) = (1)));
(((2|->PLAYER)) : (((1..2)*{PLAYER})));
not(((target) : (fleet_2)));
not(((current_turn) = ((1|->PLAYER))) & ((target) : (Grid)));
((current_turn) = ((2|->PLAYER)));
((target) : (fleet_1));
((card(fleet_1)) = (1));
(((4|->GAME_STATE)) : (((1..4)*{GAME_STATE})));
not(((card(fleet_1)) = (1)));
not(((target) : (fleet_1)));
not(((current_turn) = ((2|->PLAYER))) & ((target) : (Grid)));
(((fleet_2 - ({target}))) : (POW(Grid)));
(card((fleet_2 - ({target}))) <= Battleship_Count);
((((attacks) <+ (({(((1|->PLAYER)) |-> ((((attacks )((1|->PLAYER))) \/ (({target})))))})))) : (((((1..2)*{PLAYER})) --> (POW(Grid)))));
(((fleet_1 - ({target}))) : (POW(Grid)));
(card((fleet_1 - ({target}))) <= Battleship_Count);
((((attacks) <+ (({(((2|->PLAYER)) |-> ((((attacks )((2|->PLAYER))) \/ (({target})))))})))) : (((((1..2)*{PLAYER})) --> (POW(Grid)))));
((fleet_1) : (POW(Grid)));
(card(fleet_1) <= Battleship_Count);
((fleet_2) : (POW(Grid)));
(card(fleet_2) <= Battleship_Count);
((non_change_fleet_1) : (POW(Grid)));
(card(non_change_fleet_1) <= Battleship_Count);
((non_change_fleet_2) : (POW(Grid)));
"Invariant is well defined";
((fleet_1) : (FIN(fleet_1)));
((fleet_2) : (FIN(fleet_2)));
((non_change_fleet_1) : (FIN(non_change_fleet_1)));
((non_change_fleet_2) : (FIN(non_change_fleet_2)));
"Operation precondition is well defined";
((positions) : (FIN(positions)));
((current_turn) : (dom(attacks)));
((attacks) : (((dom(attacks)) +-> (ran(attacks)))));
"Operation is well defined";
(((1|->PLAYER)) : (dom(attacks)));
(((2|->PLAYER)) : (dom(attacks)));
((player) : (dom(attacks)));
(((attacks )(player)) : (FIN((attacks )(player))))
END
&
THEORY EnumerateX IS
GAME_STATE == {Deploying_Fleets,Ongoing,Won_Player_1,Won_Player_2};
PLAYER == {Player_1,Player_2};
REPORT == {Player_1_Hit,Player_2_Hit,Player_1_Miss,Player_2_Miss,Error_Not_Turn,Player_1_Deployed,Player_2_Deployed,Position_Out_of_Grid,Already_Deployed}
END
